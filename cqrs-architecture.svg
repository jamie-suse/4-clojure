<svg aria-roledescription="flowchart-v2" role="graphics-document document" style="overflow: hidden; max-width: 100%;" xmlns="http://www.w3.org/2000/svg" width="100%" id="graph-div" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events"><style>@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css");'</style><g id="viewport-20231123200923160" class="svg-pan-zoom_viewport" transform="matrix(0.6532796770353972,0,0,0.6532796770353972,-11.392016700335308,85.23040238879463)" style="transform: matrix(0.65328, 0, 0, 0.65328, -11.392, 85.2304);"><style>#graph-div{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#graph-div .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#graph-div .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#graph-div .edge-thickness-normal{stroke-width:2px;}#graph-div .edge-thickness-thick{stroke-width:3.5px;}#graph-div .edge-pattern-solid{stroke-dasharray:0;}#graph-div .edge-pattern-dashed{stroke-dasharray:3;}#graph-div .edge-pattern-dotted{stroke-dasharray:2;}#graph-div .marker{fill:#0b0b0b;stroke:#0b0b0b;}#graph-div .marker.cross{stroke:#0b0b0b;}#graph-div svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#graph-div .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#graph-div .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#graph-div .cluster-label span,#graph-div p{color:rgb(8.5000000002, 5.7500000001, 0);}#graph-div .label text,#graph-div span,#graph-div p{fill:#333;color:#333;}#graph-div .node rect,#graph-div .node circle,#graph-div .node ellipse,#graph-div .node polygon,#graph-div .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#graph-div .flowchart-label text{text-anchor:middle;}#graph-div .node .label{text-align:center;}#graph-div .node.clickable{cursor:pointer;}#graph-div .arrowheadPath{fill:#0b0b0b;}#graph-div .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#graph-div .flowchart-link{stroke:#0b0b0b;fill:none;}#graph-div .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#graph-div .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#graph-div .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#graph-div .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#graph-div .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#graph-div .cluster span,#graph-div p{color:rgb(8.5000000002, 5.7500000001, 0);}#graph-div div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#graph-div .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#graph-div :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="graph-div_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="graph-div_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="graph-div_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="graph-div_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="graph-div_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="graph-div_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g id="ReadModels" class="cluster default flowchart-label"><rect height="695.4878540039062" width="759.6484375" y="114" x="0" ry="0" rx="0" style=""></rect><g transform="translate(335.671875, 114)" class="cluster-label"><foreignObject height="24" width="88.3046875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Read Models</span></div></foreignObject></g></g><g id="WriteModels" class="cluster default flowchart-label"><rect height="228" width="499.41796875" y="695.4878540039062" x="827.37890625" ry="0" rx="0" style=""></rect><g transform="translate(1030.951171875, 695.4878540039062)" class="cluster-label"><foreignObject height="24" width="92.2734375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Write Models</span></div></foreignObject></g></g><g id="Commands" class="cluster default flowchart-label"><rect height="228" width="868.267578125" y="0" x="779.6484375" ry="0" rx="0" style=""></rect><g transform="translate(1175.1533203125, 0)" class="cluster-label"><foreignObject height="24" width="77.2578125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Commands</span></div></foreignObject></g></g><g id="AccountsCurrentBalances" class="cluster default flowchart-label"><rect height="645.4878540039062" width="466.2109375" y="139" x="20" ry="0" rx="0" style=""></rect><g transform="translate(157.69140625, 139)" class="cluster-label"><foreignObject height="24" width="190.828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Accounts Current Balances</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#graph-div_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CreateAccountCommand LE-CreateAccountCommandValidation" id="L-CreateAccountCommand-CreateAccountCommandValidation-0" d="M930.738,64L930.738,89L930.738,114L930.738,139L930.738,158.7"></path><path marker-end="url(#graph-div_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-AlterAmountCommands LE-AlterAmountCommandsValidation" id="L-AlterAmountCommands-AlterAmountCommandsValidation-0" d="M1392.738,64L1392.738,89L1392.738,114L1392.738,139L1392.738,158.7"></path><path marker-end="url(#graph-div_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CreateAccountCommandValidation LE-CurrentBalance" id="L-CreateAccountCommandValidation-CurrentBalance-0" d="M903.262,203L868.037,228L212.773,253L212.773,290L212.773,327L212.773,389.744L212.773,464.488L212.773,537.488L212.773,634.488L212.773,695.488L212.773,715.188"></path><path style="stroke-width: 0;fill:none;" class="edge-thickness-thick edge-pattern-solid flowchart-link LS-Account2 LE-Account" id="L-Account2-Account-0" d="M1215.113,759.488L1215.113,784.488L1215.113,809.488L1215.113,834.488L1081.072,867.56"></path><path marker-end="url(#graph-div_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CreateAccountCommandValidation LE-Account" id="L-CreateAccountCommandValidation-Account-0" d="M912.027,203L888.037,228L888.037,253L888.037,290L888.037,327L888.037,389.744L888.037,464.488L888.037,537.488L888.037,634.488L888.037,695.488L888.037,739.988L888.037,784.488L888.037,809.488L888.037,834.488L983.368,863.402"></path><path marker-end="url(#graph-div_flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-EventStore LE-Account" id="L-EventStore-Account-0" d="M1111.761,425.137L1077.457,464.488L1077.457,537.488L1077.457,634.488L1077.457,695.488L1077.457,739.988L1077.457,784.488L1077.457,809.488L1077.457,834.488L1057.137,855.664"></path><path marker-end="url(#graph-div_flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-EventStore LE-Account2" id="L-EventStore-Account2-0" d="M1181.274,425.207L1215.113,464.488L1215.113,537.488L1215.113,634.488L1215.113,695.488L1215.113,715.188"></path><path marker-end="url(#graph-div_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CreateAccountCommandValidation LE-EventStore" id="L-CreateAccountCommandValidation-EventStore-0" d="M966.236,203L1011.746,228L1011.746,253L1011.746,290L1011.746,327L1083.045,371.577"></path><path marker-end="url(#graph-div_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-AlterAmountCommandsValidation LE-EventStore" id="L-AlterAmountCommandsValidation-EventStore-0" d="M1335.344,203L1261.762,228L1261.762,253L1261.762,290L1261.762,327L1210.181,366.385"></path><path marker-end="url(#graph-div_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-AlterAmountCommandsValidation LE-EventStore" id="L-AlterAmountCommandsValidation-EventStore-1" d="M1452.215,199.501L1558.145,228L1558.145,253L1558.145,290L1558.145,327L1211.208,379.914"></path><path marker-end="url(#graph-div_flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-EventStore LE-TotalReserve" id="L-EventStore-TotalReserve-0" d="M1087.539,398.193L622.93,464.488L622.93,537.488L622.93,634.488L622.93,695.488L622.93,715.188"></path><path marker-end="url(#graph-div_flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-EventStore LE-CurrentBalance" id="L-EventStore-CurrentBalance-0" d="M1087.539,395.295L349.492,464.488L349.492,537.488L349.492,634.488L349.492,695.488L277.724,718.847"></path><path marker-end="url(#graph-div_flowchart-pointEnd)" marker-start="url(#graph-div_flowchart-pointStart)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-CurrentBalance2 LE-EventStore" id="L-CurrentBalance2-EventStore-0" d="M192.773,208.3L192.773,228L192.773,253L192.773,290L192.773,327L1082.25,385.501"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(212.7734375, 389.7439270019531)" class="edgeLabel"><g transform="translate(-27.234375, -12)" class="label"><foreignObject height="24" width="54.46875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Creates</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(888.037109375, 464.48785400390625)" class="edgeLabel"><g transform="translate(-27.234375, -12)" class="label"><foreignObject height="24" width="54.46875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Creates</span></div></foreignObject></g></g><g transform="translate(1077.45703125, 634.4878540039062)" class="edgeLabel"><g transform="translate(-116.71875, -36)" class="label"><foreignObject height="72" width="233.4375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">update state on<br/>`Amount Deposited/Withdrawn`<br/>events</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(1011.74609375, 290)" class="edgeLabel"><g transform="translate(-90.69921875, -12)" class="label"><foreignObject height="24" width="181.3984375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">`Account Created` event</span></div></foreignObject></g></g><g transform="translate(1261.76171875, 290)" class="edgeLabel"><g transform="translate(-139.31640625, -12)" class="label"><foreignObject height="24" width="278.6328125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">`Amount Deposited/Withdrawn` event</span></div></foreignObject></g></g><g transform="translate(1558.14453125, 290)" class="edgeLabel"><g transform="translate(-137.06640625, -12)" class="label"><foreignObject height="24" width="274.1328125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">`Deposit/Withdrawal Rejected` event</span></div></foreignObject></g></g><g transform="translate(622.9296875, 537.4878540039062)" class="edgeLabel"><g transform="translate(-116.71875, -36)" class="label"><foreignObject height="72" width="233.4375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">update state on<br/>`Amount Deposited/Withdrawn`<br/>events</span></div></foreignObject></g></g><g transform="translate(349.4921875, 537.4878540039062)" class="edgeLabel"><g transform="translate(-116.71875, -36)" class="label"><foreignObject height="72" width="233.4375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">update state on<br/>`Amount Deposited/Withdrawn`<br/>events</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(622.9296875, 739.9878540039062)" id="flowchart-TotalReserve-8014" class="node default default flowchart-label"><rect height="39" width="131.078125" y="-19.5" x="-65.5390625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-58.0390625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="116.078125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><i class="fa fa-coins"></i> Total Reserve</span></div></foreignObject></g></g><g transform="translate(212.7734375, 739.9878540039062)" id="flowchart-CurrentBalance-7999" class="node default default flowchart-label"><rect height="39" width="214.8125" y="-19.5" x="-107.40625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-99.90625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="199.8125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><i class="fa fa-money-bill-wave"></i> Current Account Balance</span></div></foreignObject></g></g><g transform="translate(192.7734375, 183.5)" id="flowchart-CurrentBalance2-8016" class="node default default flowchart-label"><rect height="39" width="275.546875" y="-19.5" x="-137.7734375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-130.2734375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="260.546875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><i class="fa fa-money-bill-wave"></i> Another Current Account Balance</span></div></foreignObject></g></g><g transform="translate(1034.755859375, 878.9878540039062)" id="flowchart-Account-8001" class="node default default flowchart-label"><rect height="39" width="92.6328125" y="-19.5" x="-46.31640625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-38.81640625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="77.6328125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><i class="fa fa-wallet"></i> Account</span></div></foreignObject></g></g><g transform="translate(1215.11328125, 739.9878540039062)" id="flowchart-Account2-8000" class="node default default flowchart-label"><rect height="39" width="153.3671875" y="-19.5" x="-76.68359375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-69.18359375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="138.3671875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><i class="fa fa-wallet"></i> Another Account</span></div></foreignObject></g></g><g transform="translate(930.73828125, 183.5)" id="flowchart-CreateAccountCommandValidation-7995" class="node default default flowchart-label"><rect height="39" width="118.953125" y="-19.5" x="-59.4765625" ry="19.5" rx="19.5" style=""></rect><g transform="translate(-47.1015625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="94.203125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><i class="fa fa-spell-check"></i> Validation</span></div></foreignObject></g></g><g transform="translate(930.73828125, 44.5)" id="flowchart-CreateAccountCommand-7994" class="node default default flowchart-label"><rect height="39" width="232.1796875" y="-19.5" x="-116.08984375" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-108.58984375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="217.1796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><i class="fa fa-file-invoice-dollar"></i> `Create Account` command</span></div></foreignObject></g></g><g transform="translate(1392.73828125, 183.5)" id="flowchart-AlterAmountCommandsValidation-7997" class="node default default flowchart-label"><rect height="39" width="118.953125" y="-19.5" x="-59.4765625" ry="19.5" rx="19.5" style=""></rect><g transform="translate(-47.1015625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="94.203125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><i class="fa fa-spell-check"></i> Validation</span></div></foreignObject></g></g><g transform="translate(1392.73828125, 44.5)" id="flowchart-AlterAmountCommands-7996" class="node default default flowchart-label"><rect height="39" width="317.9453125" y="-19.5" x="-158.97265625" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-151.47265625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="302.9453125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><i class="fa fa-hand-holding-usd"></i> `Deposit/Withdraw Amount` command</span></div></foreignObject></g></g><g transform="translate(1146.75390625, 389.7439270019531)" id="flowchart-EventStore-8004" class="node default default flowchart-label"><path transform="translate(-59.21484375,-37.743926313424694)" d="M 0,12.162617542283128 a 59.21484375,12.162617542283128 0,0,0 118.4296875 0 a 59.21484375,12.162617542283128 0,0,0 -118.4296875 0 l 0,51.16261754228313 a 59.21484375,12.162617542283128 0,0,0 118.4296875 0 l 0,-51.16261754228313" style=""></path><g transform="translate(-51.71484375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="103.4296875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><i class="fa fa-list-ol"></i> Event Store</span></div></foreignObject></g></g></g></g></g><text class="flowchartTitleText" y="-25" x="847.60546875">Banking CQRS System</text></g></svg>